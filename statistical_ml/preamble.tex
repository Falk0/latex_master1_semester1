\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{textcomp}
\usepackage[english]{babel}

\usepackage{xcolor}
\usepackage[explicit]{titlesec}

%Setting section title bg color
\definecolor{redbg}{RGB}{235, 214, 214}
%Setting subsection and subsubsection title color
\definecolor{Red}{RGB}{163, 25, 25}

\titleformat{\section}
  {\normalfont\LARGE\bfseries}
  {}
  {0em}
  {\colorbox{redbg}{\parbox{\dimexpr\textwidth-2\fboxsep\relax}{\textcolor{Red}{\thesection\quad#1}}}}

%Underlining ruler for subsections
\titleformat{\subsection}
  {\normalfont\Large\bfseries\color{Red}}
  {\thesubsection}
  {1em}
  {#1}
  [{\titlerule[0.8pt]}]

\usepackage{amsmath, amssymb}
\usepackage{natbib}
\usepackage{float} 
\usepackage[caption = false]{subfig}
\usepackage{listings}
\lstset{
    breaklines=true,
    basicstyle=\tt\normalsize,
    keywordstyle=\color{blue},
    identifierstyle=\color{magenta},
    frame = single
} 
\usepackage{tcolorbox}
\newtcolorbox{example}[1]{colback=blue!5!white,colframe=blue!75!black,fonttitle=\bfseries,title=#1}
\newtcolorbox{definition}[1]{colback=red!5!white,colframe=red!75!black,fonttitle=\bfseries,title=#1}
\newtcolorbox{wbox}[1]{colback=white!5!white,colframe=black!75!white,fonttitle=\bfseries,title=#1}
% figure support
\usepackage{import}
\usepackage{xifthen}
\pdfminorversion=7
\usepackage{pdfpages}
\usepackage{transparent}
\pdfsuppresswarningpagegroup=1



\usepackage{xifthen}

\def\testdateparts#1{\dateparts#1\relax}
\def\dateparts#1 #2 #3 #4 #5\relax{
    \marginpar{\small\textsf{\mbox{#1 #2 #3 #5}}}
}

\def\@lesson{}%
\newcommand{\lesson}[3]{
    \ifthenelse{\isempty{#3}}{%
        \def\@lesson{Lecture #1}%
    }{%
        \def\@lesson{Lecture #1: #3}%
    }%
    \subsection*{\@lesson}
    \testdateparts{#2}
}

\author{Linus Falk}